## 自动驾驶入门课程第③讲 — 定位



# 一句话总结内容

定位方法有GNSS，INS，激光雷达定位，视觉定位，自动驾驶组合定位，应对不同场景

# **定位的概述**

定位提供了许多可选择的方法，但每种都有自己的优劣。接下来将介绍主流的定位方法。



高精地图最重要特征之一是精度，手机上的导航地图只能达到米级精度，而高精地图可以使车辆能够达到厘米级的精度，这对确保无人车的安全性至关重要。



# **定位方法介绍**

## **GNSS RTK**

GNSS是Global Navigation Satellite System）全球卫星导航系统，是对北斗系统、GPS、GLONASS、Galileo系统等这些单个卫星导航定位系统的同一称谓

如果在野外迷路，假如你看到自己离一棵树 75 米远，你只知道自己位于一个以树为中心半径为75米的圆上。但是如果看到一个离自己 64 米远的房子，你就会知道自己位于两个圆的交点处（有两个），但仍不知道自己位于哪个交点上。假设你看到了第三个路标，如路灯。经过测量你发现自己离路灯55 米远，自己就知道了相对于这些地标的确切位置。



![图片](https://mmbiz.qpic.cn/mmbiz_png/C4wVziccAsSKheicb5Rr4F6ev67I13K2MLvZfBia5qf0xW7kIcf31NLOWKcgdOfIicOQ6sMJibtvfpib0r6fs8vxo2Tw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)



首先。假设现在有一个世界地图标注了这三个地标在世界上的确切位置，那么就可以知道自身的确切位置了，这就被称为**三角测量**。



GPS就是这样的工作原理，只是参照物并不是地标而是卫星。三颗卫星再加上一颗用来定位高度的卫星，4颗卫星就可以知道自身的确切位置了。GPS这类系统的通用名称为全球导航卫星系统或GNSS，GPS 是其中使用最广泛的GNSS 系统。



![图片](https://mmbiz.qpic.cn/mmbiz_jpg/C4wVziccAsSKheicb5Rr4F6ev67I13K2MLQ3gnZZCF9yhhz43wnE3barT1a4oDDfstFfvn1aa0Jrbs4h6TDMnIwA/640?wx_fmt=jpeg&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1)



为进一步减小误差，使用实时运动定位（RTK），在 RTK 的帮助下，GPS 可以将定位误差限制在 10 厘米以内。

**缺点：**

- 但是仍存在高楼和其他障碍物可能阻挡 GPS 信号的问题，这使定位变得困难或根本无法定位。GPS 的更新频率很低，大约为 10 赫兹。由于无人驾驶车在快速移动，可能需要更频繁地更新位置。



## **惯性导航**（Inertial Navigation System，INS）

加速度计和陀螺仪是**惯性测量单元（IMU）**的主要组件，IMU 可以以高频率更新，可达 1000 赫兹，所以 IMU 可以提供接近实时的位置信息。

**缺点：**

在于其运动误差随时间增加而增加，我们只能依靠惯性测量单元在很短的时间范围内进行定位。

但是我们可以结合 GPS 和 IMU 来定位汽车，一方面  IMU 弥补了 GPS 更新频率较低的缺陷。另一方面 GPS 纠正了 IMU 的运动误差。但是即使将 GPS 和 IMU 系统相结合也不能完全解决定位问题，比如我们在山间行驶或城市峡谷中或在地下隧道中行驶，那么可能长时间没有 GPS 更新。



## **激光雷达定位**

利用激光雷达，可以通过点云匹配来对汽车进行定位。该方法将来自激光雷达传感器的检测数据与预先存在的高精地图之间匹配，通过这种比较可获知汽车在高精度地图上的全球位置和行驶方向。匹配点云有多种方法，比如**迭代最近点（ICP）**就是一种方法。

**滤波算法**是另一种LiDAR 定位方法

**卡尔曼滤波**是另一种LiDAR 定位方法



## **视觉定位**

**粒子滤波**定位
